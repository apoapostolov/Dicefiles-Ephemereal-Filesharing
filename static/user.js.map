{"version":3,"file":"user.js","mappings":"mBAGA,MAAMA,EAAYC,SAASC,cAAc,gBACnCC,EAAOF,SAASG,iBAAiB,gBAEvCD,EAAKE,QAASC,IACZA,EAAIC,iBAAiB,QAAS,KAC5B,MAAMC,EAASF,EAAIG,QAAQH,IAC3BH,EAAKE,QAASK,IACZA,EAAEC,UAAUC,OAAO,SAAUF,EAAED,QAAQH,MAAQE,GAC/CE,EAAEG,aACA,gBACAH,EAAED,QAAQH,MAAQE,EAAS,OAAS,WAGxCR,EAAUc,UAAYd,EAAUc,UAAUC,QAAQ,aAAc,IAAIC,OACrD,aAAXR,GAAuBR,EAAUW,UAAUM,IAAI,OAAST,OAKhE,MAAMU,EAAOjB,SAASC,cAAc,yBAEpC,GAAIgB,EAAM,CACR,MAAMC,EAAalB,SAASC,cAAc,wBACpCkB,EAAenB,SAASC,cAAc,0BACtCmB,EAAQpB,SAASC,cAAc,kBAC/BoB,EAASrB,SAASC,cAAc,2BAEtC,SAASqB,EAAUC,EAAKC,GACtBH,EAAOI,YAAcF,GAAO,GAC5BF,EAAOX,UAAUC,OAAO,UAAWa,EACrC,CAEAP,EAAKX,iBAAiB,SAAUoB,MAAOC,IACrCA,EAAMC,iBACNN,EAAU,aACV,IACE,MAAMO,QAAiBC,MAAM,eAAgB,CAC3CC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBf,MAAOA,EAAMgB,MACbC,MAAO,OACPC,QAASpB,EAAWkB,OAAS,GAC7BG,QAASpB,EAAaiB,OAAS,OAG7BI,QAAgBX,EAASY,OAC/B,GAAID,EAAQE,IACV,MAAM,IAAIC,MAAMH,EAAQE,KAE1BpB,EAAU,SACVsB,OAAOC,SAASC,QAClB,CAAE,MAAOC,GACPzB,EAAUyB,EAAGT,SAAWS,EAAGC,YAAY,EACzC,GAEJ,C","sources":["webpack:///./user.js"],"sourcesContent":["\"use strict\";\n\n// Tab switching â€” toggles .tab-<name> class on #userprofile\nconst profileEl = document.querySelector(\"#userprofile\");\nconst tabs = document.querySelectorAll(\".profile-tab\");\n\ntabs.forEach((tab) => {\n  tab.addEventListener(\"click\", () => {\n    const target = tab.dataset.tab;\n    tabs.forEach((t) => {\n      t.classList.toggle(\"active\", t.dataset.tab === target);\n      t.setAttribute(\n        \"aria-selected\",\n        t.dataset.tab === target ? \"true\" : \"false\",\n      );\n    });\n    profileEl.className = profileEl.className.replace(/\\btab-\\w+/g, \"\").trim();\n    if (target !== \"overview\") profileEl.classList.add(\"tab-\" + target);\n  });\n});\n\n// Profile message form (owner only)\nconst form = document.querySelector(\"#profile-message-form\");\n\nif (form) {\n  const aboutInput = document.querySelector(\"#profile-about-input\");\n  const lookingInput = document.querySelector(\"#profile-looking-input\");\n  const token = document.querySelector(\"#profile-token\");\n  const status = document.querySelector(\"#profile-message-status\");\n\n  function setStatus(msg, isError) {\n    status.textContent = msg || \"\";\n    status.classList.toggle(\"error\", !!isError);\n  }\n\n  form.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n    setStatus(\"Saving...\");\n    try {\n      const response = await fetch(\"/api/account\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          token: token.value,\n          realm: \"acct\",\n          message: aboutInput.value || \"\",\n          looking: lookingInput.value || \"\",\n        }),\n      });\n      const payload = await response.json();\n      if (payload.err) {\n        throw new Error(payload.err);\n      }\n      setStatus(\"Saved\");\n      window.location.reload();\n    } catch (ex) {\n      setStatus(ex.message || ex.toString(), true);\n    }\n  });\n}\n"],"names":["profileEl","document","querySelector","tabs","querySelectorAll","forEach","tab","addEventListener","target","dataset","t","classList","toggle","setAttribute","className","replace","trim","add","form","aboutInput","lookingInput","token","status","setStatus","msg","isError","textContent","async","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","value","realm","message","looking","payload","json","err","Error","window","location","reload","ex","toString"],"sourceRoot":""}