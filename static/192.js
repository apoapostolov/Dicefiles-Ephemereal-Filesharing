/*! For license information please see 192.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[192],{6184(t,e){!function(t){t.parser=function(t,e){return new i(t,e)},t.SAXParser=i,t.SAXStream=s,t.createStream=function(t,e){return new s(t,e)},t.MAX_BUFFER_LENGTH=65536;var e,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(e,n){if(!(this instanceof i))return new i(e,n);var s=this;!function(t){for(var e=0,i=r.length;e<i;e++)t[r[e]]=""}(s),s.q=s.c="",s.bufferCheckPosition=t.MAX_BUFFER_LENGTH,s.opt=n||{},s.opt.lowercase=s.opt.lowercase||s.opt.lowercasetags,s.looseCase=s.opt.lowercase?"toLowerCase":"toUpperCase",s.tags=[],s.closed=s.closedRoot=s.sawRoot=!1,s.tag=s.error=null,s.strict=!!e,s.noscript=!(!e&&!s.opt.noscript),s.state=v.BEGIN,s.strictEntities=s.opt.strictEntities,s.ENTITIES=s.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),s.attribList=[],s.opt.xmlns&&(s.ns=Object.create(u)),void 0===s.opt.unquotedAttributeValues&&(s.opt.unquotedAttributeValues=!e),s.trackPosition=!1!==s.opt.position,s.trackPosition&&(s.position=s.line=s.column=0),I(s,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),i.prototype={end:function(){x(this)},write:function(e){var i=this;if(this.error)throw this.error;if(i.closed)return D(i,"Cannot write after close. Assign an onready handler.");if(null===e)return x(i);"object"==typeof e&&(e=e.toString());var n=0,s="";for(;s=M(e,n++),i.c=s,s;)switch(i.trackPosition&&(i.position++,"\n"===s?(i.line++,i.column=0):i.column++),i.state){case v.BEGIN:if(i.state=v.BEGIN_WHITESPACE,"\ufeff"===s)continue;B(i,s);continue;case v.BEGIN_WHITESPACE:B(i,s);continue;case v.TEXT:if(i.sawRoot&&!i.closedRoot){for(var c=n-1;s&&"<"!==s&&"&"!==s;)(s=M(e,n++))&&i.trackPosition&&(i.position++,"\n"===s?(i.line++,i.column=0):i.column++);i.textNode+=e.substring(c,n-1)}"<"!==s||i.sawRoot&&i.closedRoot&&!i.strict?(g(s)||i.sawRoot&&!i.closedRoot||S(i,"Text data outside of root node."),"&"===s?i.state=v.TEXT_ENTITY:i.textNode+=s):(i.state=v.OPEN_WAKA,i.startTagPosition=i.position);continue;case v.SCRIPT:"<"===s?i.state=v.SCRIPT_ENDING:i.script+=s;continue;case v.SCRIPT_ENDING:"/"===s?i.state=v.CLOSE_TAG:(i.script+="<"+s,i.state=v.SCRIPT);continue;case v.OPEN_WAKA:if("!"===s)i.state=v.SGML_DECL,i.sgmlDecl="";else if(g(s));else if(b(h,s))i.state=v.OPEN_TAG,i.tagName=s;else if("/"===s)i.state=v.CLOSE_TAG,i.tagName="";else if("?"===s)i.state=v.PROC_INST,i.procInstName=i.procInstBody="";else{if(S(i,"Unencoded <"),i.startTagPosition+1<i.position){var l=i.position-i.startTagPosition;s=new Array(l).join(" ")+s}i.textNode+="<"+s,i.state=v.TEXT}continue;case v.SGML_DECL:if(i.sgmlDecl+s==="--"){i.state=v.COMMENT,i.comment="",i.sgmlDecl="";continue}i.doctype&&!0!==i.doctype&&i.sgmlDecl?(i.state=v.DOCTYPE_DTD,i.doctype+="<!"+i.sgmlDecl+s,i.sgmlDecl=""):(i.sgmlDecl+s).toUpperCase()===a?(_(i,"onopencdata"),i.state=v.CDATA,i.sgmlDecl="",i.cdata=""):(i.sgmlDecl+s).toUpperCase()===o?(i.state=v.DOCTYPE,(i.doctype||i.sawRoot)&&S(i,"Inappropriately located doctype declaration"),i.doctype="",i.sgmlDecl=""):">"===s?(_(i,"onsgmldeclaration",i.sgmlDecl),i.sgmlDecl="",i.state=v.TEXT):m(s)?(i.state=v.SGML_DECL_QUOTED,i.sgmlDecl+=s):i.sgmlDecl+=s;continue;case v.SGML_DECL_QUOTED:s===i.q&&(i.state=v.SGML_DECL,i.q=""),i.sgmlDecl+=s;continue;case v.DOCTYPE:">"===s?(i.state=v.TEXT,_(i,"ondoctype",i.doctype),i.doctype=!0):(i.doctype+=s,"["===s?i.state=v.DOCTYPE_DTD:m(s)&&(i.state=v.DOCTYPE_QUOTED,i.q=s));continue;case v.DOCTYPE_QUOTED:i.doctype+=s,s===i.q&&(i.q="",i.state=v.DOCTYPE);continue;case v.DOCTYPE_DTD:"]"===s?(i.doctype+=s,i.state=v.DOCTYPE):"<"===s?(i.state=v.OPEN_WAKA,i.startTagPosition=i.position):m(s)?(i.doctype+=s,i.state=v.DOCTYPE_DTD_QUOTED,i.q=s):i.doctype+=s;continue;case v.DOCTYPE_DTD_QUOTED:i.doctype+=s,s===i.q&&(i.state=v.DOCTYPE_DTD,i.q="");continue;case v.COMMENT:"-"===s?i.state=v.COMMENT_ENDING:i.comment+=s;continue;case v.COMMENT_ENDING:"-"===s?(i.state=v.COMMENT_ENDED,i.comment=O(i.opt,i.comment),i.comment&&_(i,"oncomment",i.comment),i.comment=""):(i.comment+="-"+s,i.state=v.COMMENT);continue;case v.COMMENT_ENDED:">"!==s?(S(i,"Malformed comment"),i.comment+="--"+s,i.state=v.COMMENT):i.doctype&&!0!==i.doctype?i.state=v.DOCTYPE_DTD:i.state=v.TEXT;continue;case v.CDATA:for(c=n-1;s&&"]"!==s;)(s=M(e,n++))&&i.trackPosition&&(i.position++,"\n"===s?(i.line++,i.column=0):i.column++);i.cdata+=e.substring(c,n-1),"]"===s&&(i.state=v.CDATA_ENDING);continue;case v.CDATA_ENDING:"]"===s?i.state=v.CDATA_ENDING_2:(i.cdata+="]"+s,i.state=v.CDATA);continue;case v.CDATA_ENDING_2:">"===s?(i.cdata&&_(i,"oncdata",i.cdata),_(i,"onclosecdata"),i.cdata="",i.state=v.TEXT):"]"===s?i.cdata+="]":(i.cdata+="]]"+s,i.state=v.CDATA);continue;case v.PROC_INST:"?"===s?i.state=v.PROC_INST_ENDING:g(s)?i.state=v.PROC_INST_BODY:i.procInstName+=s;continue;case v.PROC_INST_BODY:if(!i.procInstBody&&g(s))continue;"?"===s?i.state=v.PROC_INST_ENDING:i.procInstBody+=s;continue;case v.PROC_INST_ENDING:">"===s?(_(i,"onprocessinginstruction",{name:i.procInstName,body:i.procInstBody}),i.procInstName=i.procInstBody="",i.state=v.TEXT):(i.procInstBody+="?"+s,i.state=v.PROC_INST_BODY);continue;case v.OPEN_TAG:b(f,s)?i.tagName+=s:(P(i),">"===s?k(i):"/"===s?i.state=v.OPEN_TAG_SLASH:(g(s)||S(i,"Invalid character in tag name"),i.state=v.ATTRIB));continue;case v.OPEN_TAG_SLASH:">"===s?(k(i,!0),L(i)):(S(i,"Forward-slash in opening tag not followed by >"),i.state=v.ATTRIB);continue;case v.ATTRIB:if(g(s))continue;">"===s?k(i):"/"===s?i.state=v.OPEN_TAG_SLASH:b(h,s)?(i.attribName=s,i.attribValue="",i.state=v.ATTRIB_NAME):S(i,"Invalid attribute name");continue;case v.ATTRIB_NAME:"="===s?i.state=v.ATTRIB_VALUE:">"===s?(S(i,"Attribute without value"),i.attribValue=i.attribName,R(i),k(i)):g(s)?i.state=v.ATTRIB_NAME_SAW_WHITE:b(f,s)?i.attribName+=s:S(i,"Invalid attribute name");continue;case v.ATTRIB_NAME_SAW_WHITE:if("="===s)i.state=v.ATTRIB_VALUE;else{if(g(s))continue;S(i,"Attribute without value"),i.tag.attributes[i.attribName]="",i.attribValue="",_(i,"onattribute",{name:i.attribName,value:""}),i.attribName="",">"===s?k(i):b(h,s)?(i.attribName=s,i.state=v.ATTRIB_NAME):(S(i,"Invalid attribute name"),i.state=v.ATTRIB)}continue;case v.ATTRIB_VALUE:if(g(s))continue;m(s)?(i.q=s,i.state=v.ATTRIB_VALUE_QUOTED):(i.opt.unquotedAttributeValues||D(i,"Unquoted attribute value"),i.state=v.ATTRIB_VALUE_UNQUOTED,i.attribValue=s);continue;case v.ATTRIB_VALUE_QUOTED:if(s!==i.q){"&"===s?i.state=v.ATTRIB_VALUE_ENTITY_Q:i.attribValue+=s;continue}R(i),i.q="",i.state=v.ATTRIB_VALUE_CLOSED;continue;case v.ATTRIB_VALUE_CLOSED:g(s)?i.state=v.ATTRIB:">"===s?k(i):"/"===s?i.state=v.OPEN_TAG_SLASH:b(h,s)?(S(i,"No whitespace between attributes"),i.attribName=s,i.attribValue="",i.state=v.ATTRIB_NAME):S(i,"Invalid attribute name");continue;case v.ATTRIB_VALUE_UNQUOTED:if(!T(s)){"&"===s?i.state=v.ATTRIB_VALUE_ENTITY_U:i.attribValue+=s;continue}R(i),">"===s?k(i):i.state=v.ATTRIB;continue;case v.CLOSE_TAG:if(i.tagName)">"===s?L(i):b(f,s)?i.tagName+=s:i.script?(i.script+="</"+i.tagName+s,i.tagName="",i.state=v.SCRIPT):(g(s)||S(i,"Invalid tagname in closing tag"),i.state=v.CLOSE_TAG_SAW_WHITE);else{if(g(s))continue;E(h,s)?i.script?(i.script+="</"+s,i.state=v.SCRIPT):S(i,"Invalid tagname in closing tag."):i.tagName=s}continue;case v.CLOSE_TAG_SAW_WHITE:if(g(s))continue;">"===s?L(i):S(i,"Invalid characters in closing tag");continue;case v.TEXT_ENTITY:case v.ATTRIB_VALUE_ENTITY_Q:case v.ATTRIB_VALUE_ENTITY_U:var u,A;switch(i.state){case v.TEXT_ENTITY:u=v.TEXT,A="textNode";break;case v.ATTRIB_VALUE_ENTITY_Q:u=v.ATTRIB_VALUE_QUOTED,A="attribValue";break;case v.ATTRIB_VALUE_ENTITY_U:u=v.ATTRIB_VALUE_UNQUOTED,A="attribValue"}if(";"===s){var y=U(i);i.opt.unparsedEntities&&!Object.values(t.XML_ENTITIES).includes(y)?(i.entity="",i.state=u,i.write(y)):(i[A]+=y,i.entity="",i.state=u)}else b(i.entity.length?p:d,s)?i.entity+=s:(S(i,"Invalid character in entity name"),i[A]+="&"+i.entity+s,i.entity="",i.state=u);continue;default:throw new Error(i,"Unknown state: "+i.state)}i.position>=i.bufferCheckPosition&&function(e){for(var i=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,s=0,a=r.length;s<a;s++){var o=e[r[s]].length;if(o>i)switch(r[s]){case"textNode":w(e);break;case"cdata":_(e,"oncdata",e.cdata),e.cdata="";break;case"script":_(e,"onscript",e.script),e.script="";break;default:D(e,"Max buffer length exceeded: "+r[s])}n=Math.max(n,o)}var c=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=c+e.position}(i);return i},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;w(t=this),""!==t.cdata&&(_(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(_(t,"onscript",t.script),t.script="")}};try{e=Object(function(){var t=new Error("Cannot find module 'stream'");throw t.code="MODULE_NOT_FOUND",t}())}catch(t){e=function(){}}e||(e=function(){});var n=t.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});function s(t,r){if(!(this instanceof s))return new s(t,r);e.apply(this),this._parser=new i(t,r),this.writable=!0,this.readable=!0;var a=this;this._parser.onend=function(){a.emit("end")},this._parser.onerror=function(t){a.emit("error",t),a._parser.error=null},this._decoder=null,n.forEach(function(t){Object.defineProperty(a,"on"+t,{get:function(){return a._parser["on"+t]},set:function(e){if(!e)return a.removeAllListeners(t),a._parser["on"+t]=e,e;a.on(t,e)},enumerable:!0,configurable:!1})})}s.prototype=Object.create(e.prototype,{constructor:{value:s}}),s.prototype.write=function(t){return"function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)&&(this._decoder||(this._decoder=new TextDecoder("utf8")),t=this._decoder.decode(t,{stream:!0})),this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(t){if(t&&t.length&&this.write(t),this._decoder){var e=this._decoder.decode();e&&(this._parser.write(e),this.emit("data",e))}return this._parser.end(),!0},s.prototype.on=function(t,r){var i=this;return i._parser["on"+t]||-1===n.indexOf(t)||(i._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),i.emit.apply(i,e)}),e.prototype.on.call(i,t,r)};var a="[CDATA[",o="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/2000/xmlns/",u={xml:c,xmlns:l},h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function m(t){return'"'===t||"'"===t}function T(t){return">"===t||g(t)}function b(t,e){return t.test(e)}function E(t,e){return!b(t,e)}var A,y,N,v=0;for(var C in t.STATE={BEGIN:v++,BEGIN_WHITESPACE:v++,TEXT:v++,TEXT_ENTITY:v++,OPEN_WAKA:v++,SGML_DECL:v++,SGML_DECL_QUOTED:v++,DOCTYPE:v++,DOCTYPE_QUOTED:v++,DOCTYPE_DTD:v++,DOCTYPE_DTD_QUOTED:v++,COMMENT_STARTING:v++,COMMENT:v++,COMMENT_ENDING:v++,COMMENT_ENDED:v++,CDATA:v++,CDATA_ENDING:v++,CDATA_ENDING_2:v++,PROC_INST:v++,PROC_INST_BODY:v++,PROC_INST_ENDING:v++,OPEN_TAG:v++,OPEN_TAG_SLASH:v++,ATTRIB:v++,ATTRIB_NAME:v++,ATTRIB_NAME_SAW_WHITE:v++,ATTRIB_VALUE:v++,ATTRIB_VALUE_QUOTED:v++,ATTRIB_VALUE_CLOSED:v++,ATTRIB_VALUE_UNQUOTED:v++,ATTRIB_VALUE_ENTITY_Q:v++,ATTRIB_VALUE_ENTITY_U:v++,CLOSE_TAG:v++,CLOSE_TAG_SAW_WHITE:v++,SCRIPT:v++,SCRIPT_ENDING:v++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var r=t.ENTITIES[e],i="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=i}),t.STATE)t.STATE[t.STATE[C]]=C;function I(t,e,r){t[e]&&t[e](r)}function _(t,e,r){t.textNode&&w(t),I(t,e,r)}function w(t){t.textNode=O(t.opt,t.textNode),t.textNode&&I(t,"ontext",t.textNode),t.textNode=""}function O(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function D(t,e){return w(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,I(t,"onerror",e),t}function x(t){return t.sawRoot&&!t.closedRoot&&S(t,"Unclosed root tag"),t.state!==v.BEGIN&&t.state!==v.BEGIN_WHITESPACE&&t.state!==v.TEXT&&D(t,"Unexpected end"),w(t),t.c="",t.closed=!0,I(t,"onend"),i.call(t,t.strict,t.opt),t}function S(t,e){if("object"!=typeof t||!(t instanceof i))throw new Error("bad call to strictFail");t.strict&&D(t,e)}function P(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,r=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(r.ns=e.ns),t.attribList.length=0,_(t,"onopentagstart",r)}function F(t,e){var r=t.indexOf(":")<0?["",t]:t.split(":"),i=r[0],n=r[1];return e&&"xmlns"===t&&(i="xmlns",n=""),{prefix:i,local:n}}function R(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=F(t.attribName,!0),r=e.prefix,i=e.local;if("xmlns"===r)if("xml"===i&&t.attribValue!==c)S(t,"xml: prefix must be bound to "+c+"\nActual: "+t.attribValue);else if("xmlns"===i&&t.attribValue!==l)S(t,"xmlns: prefix must be bound to "+l+"\nActual: "+t.attribValue);else{var n=t.tag,s=t.tags[t.tags.length-1]||t;n.ns===s.ns&&(n.ns=Object.create(s.ns)),n.ns[i]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,_(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function k(t,e){if(t.opt.xmlns){var r=t.tag,i=F(t.tagName);r.prefix=i.prefix,r.local=i.local,r.uri=r.ns[i.prefix]||"",r.prefix&&!r.uri&&(S(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),r.uri=i.prefix);var n=t.tags[t.tags.length-1]||t;r.ns&&n.ns!==r.ns&&Object.keys(r.ns).forEach(function(e){_(t,"onopennamespace",{prefix:e,uri:r.ns[e]})});for(var s=0,a=t.attribList.length;s<a;s++){var o=t.attribList[s],c=o[0],l=o[1],u=F(c,!0),h=u.prefix,f=u.local,d=""===h?"":r.ns[h]||"",p={name:c,value:l,prefix:h,local:f,uri:d};h&&"xmlns"!==h&&!d&&(S(t,"Unbound namespace prefix: "+JSON.stringify(h)),p.uri=h),t.tag.attributes[c]=p,_(t,"onattribute",p)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),_(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=v.TEXT:t.state=v.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function L(t){if(!t.tagName)return S(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=v.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=v.SCRIPT);_(t,"onscript",t.script),t.script=""}var e=t.tags.length,r=t.tagName;t.strict||(r=r[t.looseCase]());for(var i=r;e--;){if(t.tags[e].name===i)break;S(t,"Unexpected close tag")}if(e<0)return S(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=v.TEXT);t.tagName=r;for(var n=t.tags.length;n-- >e;){var s=t.tag=t.tags.pop();t.tagName=t.tag.name,_(t,"onclosetag",t.tagName);var a={};for(var o in s.ns)a[o]=s.ns[o];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&s.ns!==c.ns&&Object.keys(s.ns).forEach(function(e){var r=s.ns[e];_(t,"onclosenamespace",{prefix:e,uri:r})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=v.TEXT}function U(t){var e,r=t.entity,i=r.toLowerCase(),n="";return t.ENTITIES[r]?t.ENTITIES[r]:t.ENTITIES[i]?t.ENTITIES[i]:("#"===(r=i).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),n=(e=parseInt(r,16)).toString(16)):(r=r.slice(1),n=(e=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(e)||n.toLowerCase()!==r||e<0||e>1114111?(S(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function B(t,e){"<"===e?(t.state=v.OPEN_WAKA,t.startTagPosition=t.position):g(e)||(S(t,"Non-whitespace before first tag."),t.textNode=e,t.state=v.TEXT)}function M(t,e){var r="";return e<t.length&&(r=t.charAt(e)),r}v=t.STATE,String.fromCodePoint||(A=String.fromCharCode,y=Math.floor,N=function(){var t,e,r=[],i=-1,n=arguments.length;if(!n)return"";for(var s="";++i<n;){var a=Number(arguments[i]);if(!isFinite(a)||a<0||a>1114111||y(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?r.push(a):(t=55296+((a-=65536)>>10),e=a%1024+56320,r.push(t,e)),(i+1===n||r.length>16384)&&(s+=A.apply(null,r),r.length=0)}return s},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:N,configurable:!0,writable:!0}):String.fromCodePoint=N)}(e)},3611(t){"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var r,i="",n=0,s=-1,a=0,o=0;o<=t.length;++o){if(o<t.length)r=t.charCodeAt(o);else{if(47===r)break;r=47}if(47===r){if(s===o-1||1===a);else if(s!==o-1&&2===a){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var c=i.lastIndexOf("/");if(c!==i.length-1){-1===c?(i="",n=0):n=(i=i.slice(0,c)).length-1-i.lastIndexOf("/"),s=o,a=0;continue}}else if(2===i.length||1===i.length){i="",n=0,s=o,a=0;continue}e&&(i.length>0?i+="/..":i="..",n=2)}else i.length>0?i+="/"+t.slice(s+1,o):i=t.slice(s+1,o),n=o-s-1;s=o,a=0}else 46===r&&-1!==a?++a:a=-1}return i}var i={resolve:function(){for(var t,i="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(i=a+"/"+i,n=47===a.charCodeAt(0))}return i=r(i,!n),n?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(t){if(e(t),0===t.length)return".";var i=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!i)).length||i||(t="."),t.length>0&&n&&(t+="/"),i?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];e(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":i.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return"";if((t=i.resolve(t))===(r=i.resolve(r)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var s=t.length,a=s-n,o=1;o<r.length&&47===r.charCodeAt(o);++o);for(var c=r.length-o,l=a<c?a:c,u=-1,h=0;h<=l;++h){if(h===l){if(c>l){if(47===r.charCodeAt(o+h))return r.slice(o+h+1);if(0===h)return r.slice(o+h)}else a>l&&(47===t.charCodeAt(n+h)?u=h:0===h&&(u=0));break}var f=t.charCodeAt(n+h);if(f!==r.charCodeAt(o+h))break;47===f&&(u=h)}var d="";for(h=n+u+1;h<=s;++h)h!==s&&47!==t.charCodeAt(h)||(0===d.length?d+="..":d+="/..");return d.length>0?d+r.slice(o+u):(o+=u,47===r.charCodeAt(o)&&++o,r.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var r=t.charCodeAt(0),i=47===r,n=-1,s=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!s){n=a;break}}else s=!1;return-1===n?i?"/":".":i&&1===n?"//":t.slice(0,n)},basename:function(t,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');e(t);var i,n=0,s=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var o=r.length-1,c=-1;for(i=t.length-1;i>=0;--i){var l=t.charCodeAt(i);if(47===l){if(!a){n=i+1;break}}else-1===c&&(a=!1,c=i+1),o>=0&&(l===r.charCodeAt(o)?-1===--o&&(s=i):(o=-1,s=c))}return n===s?s=c:-1===s&&(s=t.length),t.slice(n,s)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!a){n=i+1;break}}else-1===s&&(a=!1,s=i+1);return-1===s?"":t.slice(n,s)},extname:function(t){e(t);for(var r=-1,i=0,n=-1,s=!0,a=0,o=t.length-1;o>=0;--o){var c=t.charCodeAt(o);if(47!==c)-1===n&&(s=!1,n=o+1),46===c?-1===r?r=o:1!==a&&(a=1):-1!==r&&(a=-1);else if(!s){i=o+1;break}}return-1===r||-1===n||0===a||1===a&&r===n-1&&r===i+1?"":t.slice(r,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+i:r+t+i:i}("/",t)},parse:function(t){e(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var i,n=t.charCodeAt(0),s=47===n;s?(r.root="/",i=1):i=0;for(var a=-1,o=0,c=-1,l=!0,u=t.length-1,h=0;u>=i;--u)if(47!==(n=t.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===n?-1===a?a=u:1!==h&&(h=1):-1!==a&&(h=-1);else if(!l){o=u+1;break}return-1===a||-1===c||0===h||1===h&&a===c-1&&a===o+1?-1!==c&&(r.base=r.name=0===o&&s?t.slice(1,c):t.slice(o,c)):(0===o&&s?(r.name=t.slice(1,a),r.base=t.slice(1,c)):(r.name=t.slice(o,a),r.base=t.slice(o,c)),r.ext=t.slice(a,c)),o>0?r.dir=t.slice(0,o-1):s&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i},9192(t,e,r){"use strict";r.d(e,{initMobiFile:()=>xt});var i=Uint8Array,n=Uint16Array,s=Int32Array,a=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(t,e){for(var r=new n(31),i=0;i<31;++i)r[i]=e+=1<<t[i-1];var a=new s(r[30]);for(i=1;i<30;++i)for(var o=r[i];o<r[i+1];++o)a[o]=o-r[i]<<5|i;return{b:r,r:a}},u=l(a,2),h=u.b,f=u.r;h[28]=258,f[258]=28;for(var d=l(o,0),p=d.b,g=(d.r,new n(32768)),m=0;m<32768;++m){var T=(43690&m)>>1|(21845&m)<<1;T=(61680&(T=(52428&T)>>2|(13107&T)<<2))>>4|(3855&T)<<4,g[m]=((65280&T)>>8|(255&T)<<8)>>1}var b=function(t,e,r){for(var i=t.length,s=0,a=new n(e);s<i;++s)t[s]&&++a[t[s]-1];var o,c=new n(e);for(s=1;s<e;++s)c[s]=c[s-1]+a[s-1]<<1;if(r){o=new n(1<<e);var l=15-e;for(s=0;s<i;++s)if(t[s])for(var u=s<<4|t[s],h=e-t[s],f=c[t[s]-1]++<<h,d=f|(1<<h)-1;f<=d;++f)o[g[f]>>l]=u}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=g[c[t[s]-1]++]>>15-t[s]);return o},E=new i(288);for(m=0;m<144;++m)E[m]=8;for(m=144;m<256;++m)E[m]=9;for(m=256;m<280;++m)E[m]=7;for(m=280;m<288;++m)E[m]=8;var A=new i(32);for(m=0;m<32;++m)A[m]=5;var y=b(E,9,1),N=b(A,5,1),v=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},C=function(t,e,r){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(7&e)&r},I=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(7&e)},_=function(t){return(t+7)/8|0},w=function(t,e,r){return(null==e||e<0)&&(e=0),(null==r||r>t.length)&&(r=t.length),new i(t.subarray(e,r))},O=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],D=function(t,e,r){var i=new Error(e||O[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,D),!r)throw i;return i},x=function(t,e,r,n){var s=t.length,l=n?n.length:0;if(!s||e.f&&!e.l)return r||new i(0);var u=!r,f=u||2!=e.i,d=e.i;u&&(r=new i(3*s));var g=function(t){var e=r.length;if(t>e){var n=new i(Math.max(2*e,t));n.set(r),r=n}},m=e.f||0,T=e.p||0,E=e.b||0,A=e.l,O=e.d,x=e.m,S=e.n,P=8*s;do{if(!A){m=C(t,T,1);var F=C(t,T+1,3);if(T+=3,!F){var R=t[(X=_(T)+4)-4]|t[X-3]<<8,k=X+R;if(k>s){d&&D(0);break}f&&g(E+R),r.set(t.subarray(X,k),E),e.b=E+=R,e.p=T=8*k,e.f=m;continue}if(1==F)A=y,O=N,x=9,S=5;else if(2==F){var L=C(t,T,31)+257,U=C(t,T+10,15)+4,B=L+C(t,T+5,31)+1;T+=14;for(var M=new i(B),j=new i(19),G=0;G<U;++G)j[c[G]]=C(t,T+3*G,7);T+=3*U;var H=v(j),V=(1<<H)-1,Y=b(j,H,1);for(G=0;G<B;){var X,z=Y[C(t,T,V)];if(T+=15&z,(X=z>>4)<16)M[G++]=X;else{var q=0,W=0;for(16==X?(W=3+C(t,T,3),T+=2,q=M[G-1]):17==X?(W=3+C(t,T,7),T+=3):18==X&&(W=11+C(t,T,127),T+=7);W--;)M[G++]=q}}var Q=M.subarray(0,L),K=M.subarray(L);x=v(Q),S=v(K),A=b(Q,x,1),O=b(K,S,1)}else D(1);if(T>P){d&&D(0);break}}f&&g(E+131072);for(var $=(1<<x)-1,Z=(1<<S)-1,J=T;;J=T){var tt=(q=A[I(t,T)&$])>>4;if((T+=15&q)>P){d&&D(0);break}if(q||D(2),tt<256)r[E++]=tt;else{if(256==tt){J=T,A=null;break}var et=tt-254;if(tt>264){var rt=a[G=tt-257];et=C(t,T,(1<<rt)-1)+h[G],T+=rt}var it=O[I(t,T)&Z],nt=it>>4;it||D(3),T+=15&it;K=p[nt];if(nt>3){rt=o[nt];K+=I(t,T)&(1<<rt)-1,T+=rt}if(T>P){d&&D(0);break}f&&g(E+131072);var st=E+et;if(E<K){var at=l-K,ot=Math.min(K,st);for(at+E<0&&D(3);E<ot;++E)r[E]=n[at+E]}for(;E<st;++E)r[E]=r[E-K]}}e.l=A,e.p=J,e.b=E,e.f=m,A&&(m=1,e.m=x,e.d=O,e.n=S)}while(!m);return E!=r.length&&u?w(r,0,E):r.subarray(0,E)},S=new i(0),P=function(t,e){return(8!=(15&t[0])||t[0]>>4>7||(t[0]<<8|t[1])%31)&&D(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&D(6,"invalid zlib data: "+(32&t[1]?"need":"unexpected")+" dictionary"),2+(t[1]>>3&4)};function F(t,e){return x(t.subarray(P(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var R="undefined"!=typeof TextDecoder&&new TextDecoder;try{R.decode(S,{stream:!0})}catch(t){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;r(3611);var k=r(6827),L=r(6184);var U=Object.defineProperty,B=(t,e,r)=>((t,e,r)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r)(t,"symbol"!=typeof e?e+"":e,r);const M={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}};function j(t){return t.toLowerCase()}function G(t,e,r){for(const i of t)e=i(e,r);return e}function H(t,e,r){const i=Object.create(null);i.value=r,i.writable=!0,i.enumerable=!0,i.configurable=!0,Object.defineProperty(t,e,i)}class V extends k.EventEmitter{constructor(t){super(),B(this,"options"),B(this,"remaining",""),B(this,"saxParser"),B(this,"resultObject",null),B(this,"EXPLICIT_CHARKEY"),B(this,"errThrown",!1),B(this,"ended",!1),B(this,"processAsync",()=>{try{if(this.remaining.length<=this.options.chunkSize){const t=this.remaining;this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()}else{const t=this.remaining.slice(0,this.options.chunkSize);this.remaining=this.remaining.slice(this.options.chunkSize),this.saxParser=this.saxParser.write(t),setTimeout(this.processAsync,0)}}catch(t){this.errThrown||(this.errThrown=!0,this.emit("error",t))}}),B(this,"assignOrPush",(t,e,r)=>{e in t?(Array.isArray(t[e])||H(t,e,[t[e]]),t[e].push(r)):this.options.explicitArray?H(t,e,[r]):H(t,e,r)}),B(this,"reset",()=>{this.removeAllListeners(),this.saxParser=L.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.errThrown=!1,this.saxParser.onerror=t=>{this.saxParser.resume(),this.errThrown||(this.errThrown=!0,this.emit("error",t))},this.saxParser.onend=()=>{this.ended||(this.ended=!0,this.emit("end",this.resultObject))},this.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null;const t=[],e=this.options.attrkey,r=this.options.charkey;this.saxParser.onopentag=i=>{const n={};n[r]="",this.options.ignoreAttrs||Object.keys(i.attributes).forEach(t=>{e in n||this.options.mergeAttrs||(n[e]={});const r=this.options.attrValueProcessors?G(this.options.attrValueProcessors,i.attributes[t],t):i.attributes[t],s=this.options.attrNameProcessors?G(this.options.attrNameProcessors,t):t;this.options.mergeAttrs?this.assignOrPush(n,s,r):H(n[e],s,r)}),n["#name"]=this.options.tagNameProcessors?G(this.options.tagNameProcessors,i.name):i.name,this.options.xmlns&&(n[this.options.xmlnskey]={uri:i.uri,local:i.local}),t.push(n)},this.saxParser.onclosetag=()=>{let e=t.pop();const i=e["#name"];let n;this.options.explicitChildren&&this.options.preserveChildrenOrder||delete e["#name"],!0===e.cdata&&(n=e.cdata,delete e.cdata);const s=t[t.length-1];let a="";var o;if(e[r].match(/^\s*$/)&&!n?(a=e[r],delete e[r]):(this.options.trim&&(e[r]=e[r].trim()),this.options.normalize&&(e[r]=e[r].replace(/\s{2,}/g," ").trim()),e[r]=this.options.valueProcessors?G(this.options.valueProcessors,e[r],i):e[r],1===Object.keys(e).length&&r in e&&!this.EXPLICIT_CHARKEY&&(e=e[r])),"object"==typeof(o=e)&&null!==o&&0===Object.keys(o).length&&(e="function"==typeof this.options.emptyTag?this.options.emptyTag():""!==this.options.emptyTag?this.options.emptyTag:a),this.options.validator){const r=`/${t.map(t=>t["#name"]).concat(i).join("/")}`;(()=>{try{e=this.options.validator(r,s&&s[i],e)}catch(t){this.emit("error",t)}})()}if(this.options.explicitChildren&&!this.options.mergeAttrs&&"object"==typeof e)if(this.options.preserveChildrenOrder){if(s){s[this.options.childkey]=s[this.options.childkey]||[];const t={};Object.keys(e).forEach(r=>{H(t,r,e[r])}),s[this.options.childkey].push(t),delete e["#name"],1===Object.keys(e).length&&r in e&&!this.EXPLICIT_CHARKEY&&(e=e[r])}}else{const t={};this.options.attrkey in e&&(t[this.options.attrkey]=e[this.options.attrkey],delete e[this.options.attrkey]),!this.options.charsAsChildren&&this.options.charkey in e&&(t[this.options.charkey]=e[this.options.charkey],delete e[this.options.charkey]),Object.getOwnPropertyNames(e).length>0&&(t[this.options.childkey]=e),e=t}if(t.length>0)this.assignOrPush(s,i,e);else{if(this.options.explicitRoot){const t={};H(t,i,e),e=t}this.resultObject=e,this.ended=!0,this.emit("end",this.resultObject)}};const i=e=>{const i=t[t.length-1];if(i&&(i[r]+=e,this.options.explicitChildren&&this.options.preserveChildrenOrder&&this.options.charsAsChildren&&(this.options.includeWhiteChars||""!==e.replace(/\\n/g,"").trim()))){i[this.options.childkey]=i[this.options.childkey]||[];const t={"#name":"__text__"};t[r]=e,this.options.normalize&&(t[r]=t[r].replace(/\s{2,}/g," ").trim()),i[this.options.childkey].push(t)}return i};this.saxParser.ontext=i,this.saxParser.oncdata=t=>{const e=i(t);e&&(e.cdata=!0)}}),B(this,"parseString",(t,e)=>{e&&"function"==typeof e&&(this.on("end",t=>{this.reset(),e(null,t)}),this.on("error",t=>{this.reset(),e(t)}));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=function(t){return 65279===t.charCodeAt(0)?t.slice(1):t}(t),this.options.async?(this.remaining=t,setTimeout(this.processAsync,0),this.saxParser):this.saxParser.write(t).close())}catch(t){if(this.errThrown||this.ended){if(this.ended)throw t}else this.emit("error",t),this.errThrown=!0}}),B(this,"parseStringPromise",t=>new Promise((e,r)=>{this.parseString(t,(t,i)=>{t?r(t):e(i)})})),this.options={},Object.keys(M[.2]).forEach(t=>{this.options[t]=M[.2][t]}),t&&Object.keys(t).forEach(e=>{this.options[e]=t[e]}),this.options.xmlns&&(this.options.xmlnskey=`${this.options.attrkey}ns`),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(j)),this.reset()}}async function Y(t,e={}){const r=await function(t,e){let r={};return"object"==typeof e&&(r=e),new V(r).parseStringPromise(t)}(t,e);return r}const X={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"};function z(t){return t.includes("&")?t.replace(/&(#x[\dA-Fa-f]+|#\d+|[a-zA-Z]+);/g,(t,e)=>e.startsWith("#x")?String.fromCodePoint(Number.parseInt(e.slice(2),16)):e.startsWith("#")?String.fromCodePoint(Number.parseInt(e.slice(1),10)):X[t]||t):t}const q={ffd8ff:"image/jpeg","89504e47":"image/png",47494638:"image/gif","424d":"image/bmp","3c737667":"image/svg+xml","00000018":"video/mp4","00000020":"video/mp4","1a45dfa3":"video/mkv","1f43b675":"video/webm",494433:"audio/mp3",52494646:"audio/wav","4f676753":"audio/ogg","00010000":"font/ttf",74727565:"font/ttf","4f54544f":"font/otf","774f4646":"font/woff","774f4632":"font/woff2","504c":"font/eot"};function W(t){const e=t.slice(0,12),r=Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("");for(const[t,e]of Object.entries(q))if(r.startsWith(t))return e;return"unknown"}function Q(t,e,r,i){return URL.createObjectURL(new Blob([t],{type:e}))}const K={1252:"windows-1252",65001:"utf-8"},$={1:["ar","ar-SA","ar-IQ","ar-EG","ar-LY","ar-DZ","ar-MA","ar-TN","ar-OM","ar-YE","ar-SY","ar-JO","ar-LB","ar-KW","ar-AE","ar-BH","ar-QA"],2:["bg"],3:["ca"],4:["zh","zh-TW","zh-CN","zh-HK","zh-SG"],5:["cs"],6:["da"],7:["de","de-DE","de-CH","de-AT","de-LU","de-LI"],8:["el"],9:["en","en-US","en-GB","en-AU","en-CA","en-NZ","en-IE","en-ZA","en-JM",null,"en-BZ","en-TT","en-ZW","en-PH"],10:["es","es-ES","es-MX",null,"es-GT","es-CR","es-PA","es-DO","es-VE","es-CO","es-PE","es-AR","es-EC","es-CL","es-UY","es-PY","es-BO","es-SV","es-HN","es-NI","es-PR"],11:["fi"],12:["fr","fr-FR","fr-BE","fr-CA","fr-CH","fr-LU","fr-MC"],13:["he"],14:["hu"],15:["is"],16:["it","it-IT","it-CH"],17:["ja"],18:["ko"],19:["nl","nl-NL","nl-BE"],20:["no","nb","nn"],21:["pl"],22:["pt","pt-BR","pt-PT"],23:["rm"],24:["ro"],25:["ru"],26:["hr",null,"sr"],27:["sk"],28:["sq"],29:["sv","sv-SE","sv-FI"],30:["th"],31:["tr"],32:["ur"],33:["id"],34:["uk"],35:["be"],36:["sl"],37:["et"],38:["lv"],39:["lt"],41:["fa"],42:["vi"],43:["hy"],44:["az"],45:["eu"],46:["hsb"],47:["mk"],48:["st"],49:["ts"],50:["tn"],52:["xh"],53:["zu"],54:["af"],55:["ka"],56:["fo"],57:["hi"],58:["mt"],59:["se"],62:["ms"],63:["kk"],65:["sw"],67:["uz",null,"uz-UZ"],68:["tt"],69:["bn"],70:["pa"],71:["gu"],72:["or"],73:["ta"],74:["te"],75:["kn"],76:["ml"],77:["as"],78:["mr"],79:["sa"],82:["cy","cy-GB"],83:["gl","gl-ES"],87:["kok"],97:["ne"],98:["fy"]},Z={name:[0,32,"string"],type:[60,4,"string"],creator:[64,4,"string"],numRecords:[76,2,"uint"]},J={compression:[0,2,"uint"],numTextRecords:[8,2,"uint"],recordSize:[10,2,"uint"],encryption:[12,2,"uint"]},tt={magic:[16,4,"string"],length:[20,4,"uint"],type:[24,4,"uint"],encoding:[28,4,"uint"],uid:[32,4,"uint"],version:[36,4,"uint"],titleOffset:[84,4,"uint"],titleLength:[88,4,"uint"],localeRegion:[94,1,"uint"],localeLanguage:[95,1,"uint"],resourceStart:[108,4,"uint"],huffcdic:[112,4,"uint"],numHuffcdic:[116,4,"uint"],exthFlag:[128,4,"uint"],trailingFlags:[240,4,"uint"],indx:[244,4,"uint"]},et={resourceStart:[108,4,"uint"],fdst:[192,4,"uint"],numFdst:[196,4,"uint"],frag:[248,4,"uint"],skel:[252,4,"uint"],guide:[260,4,"uint"]},rt={magic:[0,4,"string"],length:[4,4,"uint"],count:[8,4,"uint"]},it={magic:[0,4,"string"],length:[4,4,"uint"],type:[8,4,"uint"],idxt:[20,4,"uint"],numRecords:[24,4,"uint"],encoding:[28,4,"uint"],language:[32,4,"uint"],total:[36,4,"uint"],ordt:[40,4,"uint"],ligt:[44,4,"uint"],numLigt:[48,4,"uint"],numCncx:[52,4,"uint"]},nt={magic:[0,4,"string"],length:[4,4,"uint"],numControlBytes:[8,4,"uint"]},st={magic:[0,4,"string"],offset1:[8,4,"uint"],offset2:[12,4,"uint"]},at={magic:[0,4,"string"],length:[4,4,"uint"],numEntries:[8,4,"uint"],codeLength:[12,4,"uint"]},ot={flags:[8,4,"uint"],dataStart:[12,4,"uint"],keyLength:[16,4,"uint"],keyStart:[20,4,"uint"]};function ct(t){let e="";return e=t.name??"",e}async function lt(t){return t instanceof Uint8Array?(e=t).buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):await t.arrayBuffer();var e}const ut=new TextDecoder,ht=t=>ut.decode(t);function ft(t){const e=t.byteLength,r=4===e?"getUint32":2===e?"getUint16":"getUint8";return new DataView(t)[r](0)}function dt(t,e){const r={};for(const i in t){const[n,s,a]=t[i];r[i]="string"===a?ht(e.slice(n,n+s)):ft(e.slice(n,n+s))}return r}function pt(t){const e=t.reduce((t,e)=>t+e.length,0),r=new t[0].constructor(e);let i=0;for(const e of t)r.set(e,i),i+=e.length;return r}const gt=t=>new TextDecoder(K[t]);function mt(t,e=0){let r=0,i=0;for(const n of t.subarray(e,e+4))if(r=r<<7|(127&n)>>>0,i++,128&n)break;return{value:r,length:i}}function Tt(t){let e=0;for(const r of t.subarray(-4))128&r&&(e=0),e=e<<7|127&r;return e}function bt(t){let e=0;for(;t>0;t>>=1)1&~t||e++;return e}function Et(t){let e=0;for(;!(1&t);)t>>=1,e++;return e}function At(t){const e=[];for(let r=0;r<t.length;r++){const i=t[r];if(0===i)e.push(0);else if(i<=8)for(const n of t.subarray(r+1,(r+=i)+1))e.push(n);else if(i<=127)e.push(i);else if(i<=191){const n=i<<8|t[1+r++],s=(16383&n)>>>3,a=3+(7&n);for(let t=0;t<a;t++)e.push(e[e.length-s])}else e.push(32,128^i)}return Uint8Array.from(e)}function yt(t,e){const r=e+32,i=r>>3;let n=0n;for(let r=e>>3;r<=i;r++)n=n<<8n|BigInt(t[r]??0);return n>>8n-BigInt(7&r)&0xFFFFFFFFn}const Nt={100:["creator","string",!0],101:["publisher","string",!1],103:["description","string",!1],104:["isbn","string",!1],105:["subject","string",!0],106:["date","string",!1],108:["contributor","string",!0],109:["rights","string",!1],110:["subjectCode","string",!0],112:["source","string",!0],113:["asin","string",!1],121:["boundary","uint",!1],122:["fixedLayout","string",!1],125:["numResources","uint",!1],126:["originalResolution","string",!1],127:["zeroGutter","string",!1],128:["zeroMargin","string",!1],129:["coverURI","string",!1],132:["regionMagnification","string",!1],201:["coverOffset","uint",!1],202:["thumbnailOffset","uint",!1],503:["title","string",!1],524:["language","string",!0],527:["pageProgressionDirection","string",!1]};function vt(t,e){const r=e(t),i=dt(it,r);if("INDX"!==i.magic)throw new Error("Invalid INDX record");const n=gt(i.encoding.toString()),s={};let a=0;for(let r=0;r<i.numCncx;r++){const o=e(t+i.numRecords+r+1),c=new Uint8Array(o);for(let t=0;t<c.byteLength;){const e=t,{value:r,length:i}=mt(c,t);t+=i;const l=o.slice(t,t+r);t+=r,s[a+e]=n.decode(l)}a+=65536}const o=r.slice(i.length),c=dt(nt,o);if("TAGX"!==c.magic)throw new Error("Invalid TAGX section");const l=(c.length-12)/4,u=Array.from({length:l},(t,e)=>new Uint8Array(o.slice(12+4*e,12+4*e+4))),h=[];for(let r=0;r<i.numRecords;r++){const i=e(t+1+r),n=new Uint8Array(i),s=dt(it,i);if("INDX"!==s.magic)throw new Error("Invalid INDX record");for(let t=0;t<s.numRecords;t++){const e=s.idxt+4+2*t,r=ft(i.slice(e,e+2)),a=ft(i.slice(r,r+1)),o=ht(i.slice(r+1,r+1+a)),l=[],f=r+1+a;let d=0,p=f+c.numControlBytes;for(const[t,e,r,s]of u){if(1&s){d++;continue}const a=f+d,o=ft(i.slice(a,a+1))&r;if(o===r)if(bt(r)>1){const{value:r,length:i}=mt(n,p);l.push([t,0,r,e]),p+=i}else l.push([t,1,0,e]);else l.push([t,o>>Et(r),0,e])}const g={};for(const[t,e,r,i]of l){const s=[];if(0!==e)for(let t=0;t<e*i;t++){const{value:t,length:e}=mt(n,p);s.push(t),p+=e}else{let t=0;for(;t<r;){const{value:e,length:r}=mt(n,p);s.push(e),p+=r,t+=r}}g[t]=s}h.push({name:o,tagMap:g})}}return{table:h,cncx:s}}const Ct=/<\s*(?:mbp:)?pagebreak[^>]*>/gi;var It=Object.defineProperty,_t=(t,e,r)=>((t,e,r)=>e in t?It(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r)(t,"symbol"!=typeof e?e+"":e,r);class wt{constructor(t){if(_t(this,"fileArrayBuffer"),_t(this,"recordsOffset"),_t(this,"recordsMagic"),_t(this,"start",0),_t(this,"pdbHeader"),_t(this,"mobiHeader"),_t(this,"palmdocHeader"),_t(this,"kf8Header"),_t(this,"exth"),_t(this,"isKf8",!1),_t(this,"resourceStart"),_t(this,"decoder"),_t(this,"encoder"),_t(this,"removeTrailingEntries"),_t(this,"decompress"),this.fileArrayBuffer=t,this.parsePdbHeader(),this.parseFirstRecord(this.loadRecord(0)),this.resourceStart=this.mobiHeader.resourceStart,!this.isKf8){const t=this.exth.boundary??4294967295;if(t<4294967295)try{this.parseFirstRecord(this.loadRecord(t)),this.resourceStart=this.kf8Header?.resourceStart??this.mobiHeader.resourceStart,this.start=t,this.isKf8=!0}catch(t){}}this.setup()}decode(t){return this.decoder.decode(t)}encode(t){return this.encoder.encode(t)}loadRecord(t){const[e,r]=this.recordsOffset[this.start+t];return this.fileArrayBuffer.slice(e,r)}loadMagic(t){return this.recordsMagic[this.start+t]}loadTextBuffer(t){return this.decompress(this.removeTrailingEntries(new Uint8Array(this.loadRecord(t+1))))}loadResource(t){const e=this.loadRecord(this.resourceStart+t),r=ht(e.slice(0,4));let i;return i="FONT"===r?function(t){const{flags:e,dataStart:r,keyLength:i,keyStart:n}=dt(ot,t),s=new Uint8Array(t.slice(r));if(2&e){const e=16===i?1024:1040,r=new Uint8Array(t.slice(n,n+i)),a=Math.min(e,s.length);for(let t=0;t<a;t++)s[t]=s[t]^r[t%r.length]}if(1&e)try{return F(s)}catch(t){console.warn(t),console.warn("Failed to decompress font")}return s}(e):"VIDE"===r||"AUDI"===r?new Uint8Array(e.slice(12)):new Uint8Array(e),{type:W(i),raw:i}}getNCX(){const t=this.mobiHeader.indx;if(t<4294967295)return function(t,e){const{table:r,cncx:i}=vt(t,e),n=r.map(({tagMap:t},e)=>({index:e,offset:t[1]?.[0],size:t[2]?.[0],label:i[t[3]?.[0]]??"",headingLevel:t[4]?.[0],pos:t[6],parent:t[21]?.[0],firstChild:t[22]?.[0],lastChild:t[23]?.[0]})),s=t=>(null==t.firstChild||(t.children=n.filter(e=>e.parent===t.index).map(s)),t);return n.filter(t=>0===t.headingLevel).map(s)}(t,this.loadRecord.bind(this))}getMetadata(){const t=this.mobiHeader,e=this.exth;return{identifier:this.mobiHeader.uid.toString(),title:e?.title||t.title,author:e?.creator?.map(z)??[],publisher:e?.publisher??"",language:e?.language?.[0]??t.language,published:e?.date??"",description:e?.description??"",subject:e?.subject?.map(z)??[],rights:e?.rights??"",contributor:e?.contributor??[]}}getCoverImage(){const t=this.exth,e=Number(t.coverOffset??4294967295),r=Number(t.thumbnailOffset??4294967295),i=e<4294967295?e:r<4294967295?r:void 0;if(i)return this.loadResource(i)}parsePdbHeader(){const t=dt(Z,this.fileArrayBuffer.slice(0,78));t.name=t.name.replace(/\0.*$/,""),this.pdbHeader=t;const e=this.fileArrayBuffer.slice(78,78+8*t.numRecords),r=Array.from({length:t.numRecords},(t,r)=>ft(e.slice(8*r,8*r+4)));this.recordsOffset=r.map((t,e)=>[t,r[e+1]]),this.recordsMagic=r.map(t=>ht(this.fileArrayBuffer.slice(t,t+4)))}parseFirstRecord(t){this.palmdocHeader=dt(J,t.slice(0,16));const e=dt(tt,t);if("MOBI"!==e.magic)throw new Error("Missing MOBI header");const{titleOffset:r,titleLength:i,localeLanguage:n,localeRegion:s}=e,a=$[n.toString()]??[],o={title:ht(t.slice(r,r+i)),language:a[s>>2]??a[0]??"unknown"};this.mobiHeader=Object.assign(e,o),this.kf8Header=e.version>=8?dt(et,t):void 0,this.isKf8=e.version>=8,this.exth=64&e.exthFlag?function(t,e){const{magic:r,count:i}=dt(rt,t);if("EXTH"!==r)throw new Error("Invalid EXTH header");const n=gt(e.toString()),s={};let a=12;for(let e=0;e<i;e++){const e=ft(t.slice(a,a+4)),r=ft(t.slice(a+4,a+8));if(e in Nt){const[i,o,c]=Nt[e],l=t.slice(a+8,a+r),u="uint"===o?ft(l):n.decode(l);c?(s[i]??(s[i]=[]),s[i].push(u)):s[i]=u}a+=r}return s}(t.slice(e.length+16),e.encoding):void 0}setup(){this.decoder=gt(this.mobiHeader.encoding.toString()),this.encoder=new TextEncoder;const t=this.palmdocHeader.compression;if(1===t)this.decompress=t=>t;else if(2===t)this.decompress=At;else{if(17480!==t)throw new Error("Unsupported compression");this.decompress=function(t,e){const r=e(t.huffcdic),{magic:i,offset1:n,offset2:s}=dt(st,r);if("HUFF"!==i)throw new Error("Invalid HUFF record");const a=Array.from({length:256},(t,e)=>n+4*e).map(t=>ft(r.slice(t,t+4))).map(t=>[128&t,31&t,t>>>8]),o=[[0,0],...Array.from({length:32},(t,e)=>s+8*e).map(t=>[ft(r.slice(t,t+4)),ft(r.slice(t+4,t+8))])],c=[];for(let r=1;r<t.numHuffcdic;r++){const i=e(t.huffcdic+r),n=dt(at,i);if("CDIC"!==n.magic)throw new Error("Invalid CDIC record");const s=Math.min(1<<n.codeLength,n.numEntries-c.length),a=i.slice(n.length);for(let t=0;t<s;t++){const e=ft(a.slice(2*t,2*t+2)),r=ft(a.slice(e,e+2)),i=32767&r,n=32768&r,s=new Uint8Array(a.slice(e+2,e+2+i));c.push([s,n])}}const l=t=>{let e=new Uint8Array;const r=8*t.byteLength;for(let i=0;i<r;){const n=Number(yt(t,i));let[s,u,h]=a[n>>>24];if(!s){for(;n>>>32-u<o[u][0];)u+=1;h=o[u][1]}if(i+=u,i>r)break;const f=h-(n>>>32-u);let[d,p]=c[f];p||(d=l(d),c[f]=[d,!0]),e=pt([e,d])}return e};return l}(this.mobiHeader,this.loadRecord.bind(this))}const e=this.mobiHeader.trailingFlags;this.removeTrailingEntries=function(t){const e=1&t,r=bt(t>>>1);return t=>{for(let e=0;e<r;e++){const e=Tt(t);t=t.subarray(0,-e)}if(e){const e=1+(3&t[t.length-1]);t=t.subarray(0,-e)}return t}}(e)}}Object.defineProperty;var Ot=Object.defineProperty,Dt=(t,e,r)=>((t,e,r)=>e in t?Ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r)(t,"symbol"!=typeof e?e+"":e,r);async function xt(t,e){const r=new St(t,e);return await r.innerLoadFile(),await r.innerInit(),r}class St{constructor(t,e="./images"){this.file=t,Dt(this,"fileArrayBuffer"),Dt(this,"mobiFile"),Dt(this,"fileName",""),Dt(this,"chapters",[]),Dt(this,"idToChapter",new Map),Dt(this,"toc",[]),Dt(this,"resourceSaveDir","./images"),Dt(this,"chapterCache",new Map),Dt(this,"resourceCache",new Map),Dt(this,"recindexReg",/recindex=["']?(\d+)["']?/),Dt(this,"mediarecindexReg",/mediarecindex=["']?(\d+)["']?/),Dt(this,"fileposReg",/filepos=["']?(\d+)["']?/),this.fileName=ct(t),this.resourceSaveDir=e}getFileInfo(){return{fileName:this.fileName}}getSpine(){return this.chapters}loadChapter(t){const e=Number.parseInt(t);if(Number.isNaN(e))return;if(this.chapterCache.has(e))return this.chapterCache.get(e);const r=this.idToChapter.get(e);if(!r)return;const i=this.replace(r.text);return this.chapterCache.set(e,i),i}getToc(){return this.toc}getCoverImage(){if(this.resourceCache.has("cover"))return this.resourceCache.get("cover");const t=this.mobiFile.getCoverImage();let e="";return t&&(e=Q(t.raw,t.type,0,this.resourceSaveDir),this.resourceCache.set("cover",e)),e}getMetadata(){return this.mobiFile.getMetadata()}async innerLoadFile(){this.fileArrayBuffer=await lt(this.file),this.mobiFile=new wt(this.fileArrayBuffer)}async innerInit(){const{palmdocHeader:t}=this.mobiFile,e=[];for(let r=0;r<t.numTextRecords;r++)e.push(this.mobiFile.loadTextBuffer(r));const r=pt(e),i=Array.from(r,t=>String.fromCharCode(t)).join(""),n=[],s=new Map;let a=0;const o=Array.from(i.matchAll(Ct));o.unshift({index:0,input:"",groups:void 0,0:""});for(let t=0;t<o.length;t++){const e=o[t],r=e.index,c=e[0],l=o[t+1]?.index,u=i.slice(r+c.length,l),h=Uint8Array.from(u,t=>t.charCodeAt(0)),f=this.mobiFile.decode(h.buffer),d={id:String(a),text:f,start:r,end:l,size:h.length};n.push(d),s.set(a,d),a++}const c=n[n.length-1].text;n[n.length-1].text=c.slice(0,c.indexOf("</body>"));const l=n[0].text,u=l.indexOf("<body>");n[0].text=l.slice(u+6),this.chapters=n,this.idToChapter=s;const h=l.slice(0,u),f=this.findTocChapter(h);if(f){const t=`<wrapper>${f.text.replace(/filepos=(\d+)/gi,'filepos="$1"')}</wrapper>`,e=await Y(t,{preserveChildrenOrder:!0,explicitChildren:!0,childkey:"children"}),r=[];this.parseNavMap(e.wrapper.children,r),this.toc=r}}findTocChapter(t){const e=t.match(/<reference.*\/>/g),r=/type="(.+?)"/,i=/filepos=(.*)/;if(e)for(const t of e){const e=t.match(r)?.[1].trim(),n=t.match(i)?.[1].trim();if("toc"===e&&n){const t=Number.parseInt(n,10),e=this.chapters.find(e=>e.end>t);return e}}}parseNavMap(t,e){for(const r of t){const t=r["#name"];if("p"===t||"blockquote"===t){let t={label:"",href:""};if(r.a){const i=r.a[0];t={label:i._,href:`filepos:${Number(i.$.filepos)}`},e.push(t)}(r.p||r.blockquote)&&(t.children=[],this.parseNavMap(r.children,t.children))}}}loadResource(t){if(this.resourceCache.has(String(t)))return this.resourceCache.get(String(t));const{type:e,raw:r}=this.mobiFile.loadResource(t-1),i=Q(r,e,String(t),this.resourceSaveDir);return this.resourceCache.set(String(t),i),i}replace(t){return{html:t=(t=(t=t.replace(/<img[^>]*>/g,t=>{const e=t.match(this.recindexReg)[1],r=this.loadResource(Number.parseInt(e));return t.replace(this.recindexReg,`src="${r}"`)})).replace(/<(video|audio)[^>]*>/g,t=>{const e=t.match(this.recindexReg)[1],r=this.loadResource(Number.parseInt(e));t=t.replace(this.mediarecindexReg,`src="${r}"`);const i=t.match(this.recindexReg)?.[1];if(i){const e=this.loadResource(Number.parseInt(i));t=t.replace(this.recindexReg,`poster="${e}"`)}return t})).replace(/<a[^>]*>/g,t=>{const e=t.match(this.fileposReg);if(!e)return t;const r=e[1];return t.replace(this.fileposReg,`href="filepos:${r}"`)}),css:[]}}resolveHref(t){const e=t.match(/filepos:(\d+)/);if(!e)return;const r=e[1],i=Number(r),n=this.chapters.find(t=>t.end>i);return n?{id:n.id,selector:`[id="filepos:${r}"]`}:void 0}destroy(){this.resourceCache.forEach(t=>{URL.revokeObjectURL(t)}),this.resourceCache.clear()}}}}]);
//# sourceMappingURL=192.js.map?v=6985ee01fb648a203c06