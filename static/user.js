(()=>{"use strict";const e=document.querySelector("#userprofile"),t=document.querySelectorAll(".profile-tab");t.forEach(a=>{a.addEventListener("click",()=>{const o=a.dataset.tab;t.forEach(e=>{e.classList.toggle("active",e.dataset.tab===o),e.setAttribute("aria-selected",e.dataset.tab===o?"true":"false")}),e.className=e.className.replace(/\btab-\w+/g,"").trim(),"overview"!==o&&e.classList.add("tab-"+o)})});const a=document.querySelector("#profile-message-form");if(a){const o=document.querySelector("#profile-about-input"),r=document.querySelector("#profile-looking-input"),s=document.querySelector("#profile-token"),c=document.querySelector("#profile-message-status");function n(e,t){c.textContent=e||"",c.classList.toggle("error",!!t)}a.addEventListener("submit",async e=>{e.preventDefault(),n("Saving...");try{const e=await fetch("/api/account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s.value,realm:"acct",message:o.value||"",looking:r.value||""})}),t=await e.json();if(t.err)throw new Error(t.err);n("Saved"),window.location.reload()}catch(e){n(e.message||e.toString(),!0)}})}})();
//# sourceMappingURL=user.js.map