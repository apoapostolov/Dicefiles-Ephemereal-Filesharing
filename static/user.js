(()=>{"use strict";const e=document.querySelector("#userprofile"),t=document.querySelectorAll(".profile-tab");t.forEach(a=>{a.addEventListener("click",()=>{const o=a.dataset.tab;t.forEach(e=>{e.classList.toggle("active",e.dataset.tab===o),e.setAttribute("aria-selected",e.dataset.tab===o?"true":"false")}),e.className=e.className.replace(/\btab-\w+/g,"").trim(),"overview"!==o&&e.classList.add(`tab-${o}`)})});const a=document.querySelector("#profile-message-form");if(a){const e=document.querySelector("#profile-about-input"),t=document.querySelector("#profile-looking-input"),o=document.querySelector("#profile-token"),r=document.querySelector("#profile-message-status"),s=(e,t)=>{r.textContent=e||"",r.classList.toggle("error",!!t)};a.addEventListener("submit",async a=>{a.preventDefault(),s("Saving...");try{const a=await fetch("/api/account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o.value,realm:"acct",message:e.value||"",looking:t.value||""})}),r=await a.json();if(r.err)throw new Error(r.err);s("Saved"),window.location.reload()}catch(e){s(e.message||e.toString(),!0)}})}})();
//# sourceMappingURL=user.js.map